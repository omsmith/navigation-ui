<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>color-band tests</title>
		<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
		<script src="../../webcomponentsjs/webcomponents-lite.js"></script>
		<script src="../../web-component-tester/browser.js"></script>
		<link rel="import" href="../color-band.html">
	</head>
	<body>

		<test-fixture id="NoColor">
			<template>
				<navigation-color-band></navigation-color-band>
			</template>
		</test-fixture>

		<test-fixture id="ColorSet">
			<template>
				<navigation-color-band color="#ff0000"></navigation-color-band>
			</template>
		</test-fixture>

		<script>
			describe('No Color', function() {

				var band;

				beforeEach(function() {
					band = fixture('NoColor');
				});

				it('should default property to #999999', function() {
					expect(band.color).to.eql('#999999');
				});

				it('should default CSS style to #999999', function() {
					var style = window.getComputedStyle(band);
					expect(style['border-top-color']).to.eql('rgb(153, 153, 153)');
				});

			});
			describe('Color Set', function() {

				var band;

				beforeEach(function() {
					band = fixture('ColorSet');
				});

				it('should set property when attribute is set', function() {
					expect(band.color).to.eql('#ff0000');
				});

				it('should update property when attribute is changed', function() {
					band.setAttribute('color', '#00ff00');
					expect(band.color).to.eql('#00ff00');
				});

				it('should update attribute when property is changed', function() {
					band.color = '#00ff00';
					expect(band.getAttribute('color')).to.eql('#00ff00');
				});

				it('should update CSS style when attribute is changed', function() {
					band.setAttribute('color', '#00ff00');
					var style = window.getComputedStyle(band);
					expect(style['border-top-color']).to.eql('rgb(0, 255, 0)');
				});

			});
		</script>
	</body>
</html>
